import{d as A}from"./hooks.module.CEb0CjFF.js";import{x as p,l as u,_ as v,k as g,H as b,E as P}from"./preact.module.URMqeND2.js";import{s as m,a as f}from"./index.95d291e9.DdTQwAr2.js";function L(e,t){for(var r in t)e[r]=t[r];return e}function k(e,t){for(var r in e)if(r!=="__source"&&!(r in t))return!0;for(var n in t)if(n!=="__source"&&e[n]!==t[n])return!0;return!1}function w(e,t){this.props=e,this.context=t}(w.prototype=new p).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(e,t){return k(this.props,e)||k(this.state,t)};var x=u.__b;u.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),x&&x(e)};var V=u.__e;u.__e=function(e,t,r,n){if(e.then){for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return t.__e==null&&(t.__e=r.__e,t.__k=r.__k),o.__c(e,t)}V(e,t,r,n)};var C=u.unmount;function E(e,t,r){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),e.__c.__H=null),(e=L({},e)).__c!=null&&(e.__c.__P===r&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(n){return E(n,t,r)})),e}function j(e,t,r){return e&&r&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(n){return j(n,t,r)}),e.__c&&e.__c.__P===t&&(e.__e&&r.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=r)),e}function y(){this.__u=0,this.o=null,this.__b=null}function R(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function d(){this.i=null,this.l=null}u.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),C&&C(e)},(y.prototype=new p).__c=function(e,t){var r=t.__c,n=this;n.o==null&&(n.o=[]),n.o.push(r);var o=R(n.__v),i=!1,l=function(){i||(i=!0,r.__R=null,o?o(_):_())};r.__R=l;var _=function(){if(!--n.__u){if(n.state.__a){var a=n.state.__a;n.__v.__k[0]=j(a,a.__c.__P,a.__c.__O)}var c;for(n.setState({__a:n.__b=null});c=n.o.pop();)c.forceUpdate()}};n.__u++||32&t.__u||n.setState({__a:n.__b=n.__v.__k[0]}),e.then(l,l)},y.prototype.componentWillUnmount=function(){this.o=[]},y.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=E(this.__b,r,n.__O=n.__P)}this.__b=null}var o=t.__a&&v(g,null,e.fallback);return o&&(o.__u&=-33),[v(g,null,t.__a?null:e.children),o]};var N=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};function W(e){return this.getChildContext=function(){return e.context},e.children}function B(e){var t=this,r=e.h;if(t.componentWillUnmount=function(){P(null,t.v),t.v=null,t.h=null},t.h&&t.h!==r&&t.componentWillUnmount(),!t.v){for(var n=t.__v;n!==null&&!n.__m&&n.__!==null;)n=n.__;t.h=r,t.v={nodeType:1,parentNode:r,childNodes:[],__k:{__m:n.__m},contains:function(){return!0},insertBefore:function(o,i){this.childNodes.push(o),t.h.insertBefore(o,i)},removeChild:function(o){this.childNodes.splice(this.childNodes.indexOf(o)>>>1,1),t.h.removeChild(o)}}}P(v(W,{context:t.context},e.__v),t.v)}function H(e,t){var r=v(B,{__v:e,h:t});return r.containerInfo=t,r}(d.prototype=new p).__a=function(e){var t=this,r=R(t.__v),n=t.l.get(e);return n[0]++,function(o){var i=function(){t.props.revealOrder?(n.push(o),N(t,e,n)):o()};r?r(i):i()}},d.prototype.render=function(e){this.i=null,this.l=new Map;var t=b(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},d.prototype.componentDidUpdate=d.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,r){N(e,r,t)})};var I=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,T=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Z=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,D=/[A-Z0-9]/g,K=typeof document<"u",M=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};p.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(p.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var O=u.event;function q(){}function z(){return this.cancelBubble}function G(){return this.defaultPrevented}u.event=function(e){return O&&(e=O(e)),e.persist=q,e.isPropagationStopped=z,e.isDefaultPrevented=G,e.nativeEvent=e};var J={enumerable:!1,configurable:!0,get:function(){return this.class}},S=u.vnode;u.vnode=function(e){typeof e.type=="string"&&function(t){var r=t.props,n=t.type,o={},i=n.indexOf("-")===-1;for(var l in r){var _=r[l];if(!(l==="value"&&"defaultValue"in r&&_==null||K&&l==="children"&&n==="noscript"||l==="class"||l==="className")){var a=l.toLowerCase();l==="defaultValue"&&"value"in r&&r.value==null?l="value":l==="download"&&_===!0?_="":a==="translate"&&_==="no"?_=!1:a[0]==="o"&&a[1]==="n"?a==="ondoubleclick"?l="ondblclick":a!=="onchange"||n!=="input"&&n!=="textarea"||M(r.type)?a==="onfocus"?l="onfocusin":a==="onblur"?l="onfocusout":Z.test(l)&&(l=a):a=l="oninput":i&&T.test(l)?l=l.replace(D,"-$&").toLowerCase():_===null&&(_=void 0),a==="oninput"&&o[l=a]&&(l="oninputCapture"),o[l]=_}}n=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=b(r.children).forEach(function(c){c.props.selected=o.value.indexOf(c.props.value)!=-1})),n=="select"&&o.defaultValue!=null&&(o.value=b(r.children).forEach(function(c){c.props.selected=o.multiple?o.defaultValue.indexOf(c.props.value)!=-1:o.defaultValue==c.props.value})),r.class&&!r.className?(o.class=r.class,Object.defineProperty(o,"className",J)):(r.className&&!r.class||r.class&&r.className)&&(o.class=o.className=r.className),t.props=o}(e),e.$$typeof=I,S&&S(e)};var U=u.__r;u.__r=function(e){U&&U(e),e.__c};var $=u.diffed;u.diffed=function(e){$&&$(e);var t=e.props,r=e.__e;r!=null&&e.type==="textarea"&&"value"in t&&t.value!==r.value&&(r.value=t.value==null?"":t.value)};const Q=(e,t=" ")=>{let r="";for(let n=0;n<e.length;n++)"text"in e[n]&&(r+=(r?t:"")+e[n].text);return r},h=(e,t)=>e?Q(e,t):null,X=e=>e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),Y=(e,t)=>{const r=new URL(e);for(const o in t){const i=X(o),l=t[o];l===void 0?r.searchParams.delete(i):Array.isArray(l)?r.searchParams.set(i,l.join(",")):r.searchParams.set(i,`${l}`)}const n=r.searchParams.get("s");return n&&(r.searchParams.delete("s"),r.searchParams.append("s",n)),r.toString()},F=e=>e!=null,ee=e=>F(e)&&!!e.url,te=(e,t={})=>e&&ee(e)?Y(e.url,t):null;var re=0;function s(e,t,r,n,o,i){t||(t={});var l,_,a=t;if("ref"in a)for(_ in a={},t)_=="ref"?l=t[_]:a[_]=t[_];var c={type:e,props:a,key:r,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--re,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(l=e.defaultProps))for(_ in l)a[_]===void 0&&(a[_]=l[_]);return u.vnode&&u.vnode(c),c}function ne({name:e,link:t,artwork:r}){return s("section",{className:m.viewer,children:[s("h2",{children:h(e)}),s("figure",{children:s("img",{src:te(r),alt:`Cover artwork for: ${h(e)}`})}),t?.url&&s("a",{class:m.link,href:t.url,target:t.target,children:["Listen on Bandcamp",s("span",{class:m.icon,children:s("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:s("use",{href:"#icon-external-link"})})})]})]})}function _e({projects:e}){const[t,r]=A(0);return s("section",{class:f.projects,children:[s("h2",{children:"Projects"}),s("ul",{class:f.projectList,children:e?.map(({data:n},o)=>s("li",{children:s("button",{class:[f.project,t===o&&f.selected].join(" "),onClick:()=>{r(o)},children:[s("h3",{class:f.title,children:h(n.name)}),s("span",{class:f.roles,children:h(n.roles)}),s("span",{class:f.date,children:n.date})]})}))}),H(s(ne,{...e[t].data}),document.querySelector("#viewer div"))]})}export{_e as Projects};
